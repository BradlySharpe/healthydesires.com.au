{% assign prefix = include.prefix %}{% assign slider = include.slider %}<div class="slider">
  {% assign first = true %}
  {% for slide in slider.slides %}
  <input type="radio" name="slider" id="{{ slide.id | prepend: prefix}}"{% if first == true %} checked="checked"{% endif %}>
    {% assign first = false %}
  {% endfor %}

  <div class="slides">
    <div class="wrapper">
      <div class="inner">
        {% for slide in slider.slides %}
        <div class="slide">
          <img src="{{ slide.image | prepend: site.images_url }}">
        </div>
        {% endfor %}
      </div>
    </div>
  </div>

  <!--
  <div class="controls">
    {% for slide in slider.slides %}
    <label for="{{ slide.id | prepend: prefix }}"></label>
    {% endfor %}
  </div>
  -->
  
  <div class="active">
    {% for slide in slider.slides %}
    <label for="{{ slide.id | prepend: prefix }}"></label>
    {% endfor %}
  </div>
</div>

<script type="text/javascript">
  {% assign counter = 1 %}
  var {{ slider.name }}Slider = {
    slideIds: [
      {% for slide in slider.slides %}
        '{{ slide.id }}'{%if counter < slider.slides.size %},{% endif %} 
        {% assign counter=counter | plus:1 %} 
      {% endfor %}
    ],
    currentIndex: 0,
    maxIndex: {{ slider.slides.size | minus:1  }},
    next : function() {
      var el;
      if ((this.currentIndex + 1) >= this.maxIndex) {
        this.currentIndex = 0;
        el = document.getElementById(this.slideIds[this.currentIndex]);
      } else {
        this.currentIndex = this.currentIndex + 1;
        el = document.getElementById(this.slideIds[this.currentIndex]);
      }
      if (el) {
        el.checked = true;
      }
    }
  }

  setInterval(function() {
    {{ slider.name }}Slider.next.call({{ slider.name }}Slider);
  }, 2000);
</script>